<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;16.&nbsp;Testsuite</title><link rel="stylesheet" href="reference-html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="Citrus Framework - Reference Documentation"><link rel="up" href="index.html" title="Citrus Framework - Reference Documentation"><link rel="prev" href="functions.html" title="Chapter&nbsp;15.&nbsp;Functions"><link rel="next" href="tibco.html" title="Chapter&nbsp;17.&nbsp;TIBCO support"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;16.&nbsp;Testsuite</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="functions.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="tibco.html">Next</a></td></tr></table><hr></div><div class="chapter" title="Chapter&nbsp;16.&nbsp;Testsuite"><div class="titlepage"><div><div><h2 class="title"><a name="testsuite"></a>Chapter&nbsp;16.&nbsp;Testsuite</h2></div></div></div><p>Tests often need to be grouped to test suites. Test suites also provide the functionality to do some work before and after the
    tests are run. Database preparing and cleaning tasks or server starting and stopping fit well into these initialization and cleanup phases 
    of a test suite. In Citrus a test suite is typically defined as Spring bean inside a XML configuration file.</p><div class="section" title="16.1.&nbsp;Tasks before, between and after the test run"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="testsuite-tasks"></a>16.1.&nbsp;Tasks before, between and after the test run</h2></div></div></div><p>A tester can influence the behavior of a test suite before, after and during the test run. See the next code example to find
        out how it works:</p><pre class="programlisting"><span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;bean</span> <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">name</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"integrationTests"</span> 
         <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">class</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"com.consol.citrus.TestSuite"</span><span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&gt;</span>
    <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;property</span> <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">name</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"tasksBefore"</span><span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&gt;</span>
        <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;list&gt;</span>
            
        <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/list&gt;</span>
    <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/property&gt;</span>

    <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;property</span> <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">name</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"tasksBetween"</span><span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&gt;</span>
        <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;list&gt;</span>
            
        <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/list&gt;</span>
    <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/property&gt;</span>

    <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;property</span> <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">name</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"tasksAfter"</span><span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&gt;</span>
        <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;list&gt;</span>
            
        <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/list&gt;</span>
    <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/property&gt;</span>

<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/bean&gt;</span></pre><p>The test suite bean is of the type com.consol.citrus.TestSuite and offers the following properties to affect
        the basic behavior:</p><div class="itemizedlist"><ul class="itemizedlist" type="opencircle"><li class="listitem" style="list-style-type: circle"><p>tasksBefore: List of actions that will be executed before the first test is run</p></li><li class="listitem" style="list-style-type: circle"><p>tasksBetween: List of actions that will be executed in between every test</p></li><li class="listitem" style="list-style-type: circle"><p>tasksAfter: List of actions that will be executed after the last test has ended</p></li></ul></div><p>The three task-sections before, in between and after the execution of tests are supposed to be used for
        initializing and finishing tasks. All these tasks can easily be adjusted by adding or removing beans inside the &lt;list&gt; 
        element.</p><div class="tip" title="Tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/admons/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>The framework offers special startup and shutdown actions that may start and stop server implementations. This might 
            be helpful when dealing with Http servers or WebService containers like Jetty. You can also think of starting/stopping a 
            JMS broker.</p><p>A test suite run may require the test environment to be clean. Therefore it is a good idea to purge all JMS destinations
            or clean up the database to avoid errors caused by obsolete data from previous test runs.</p><p>Between the tests it also might sound reasonable to purge all JMS queues. In case a test fails the use case processing stops
            and some messages might be left in some JMS queues. The next test then will be confronted with these invalid messages. Purging all JMS
            destinations between the tests is therefore a good idea.</p></td></tr></table></div></div><div class="section" title="16.2.&nbsp;Multiple testsuites"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="testsuite-multiple"></a>16.2.&nbsp;Multiple testsuites</h2></div></div></div><p>Sometimes it is useful to configure more than one of these test suite instances. You can think of test suites for 
        unit testing, integration testing, performance testing and so on. Unit testing might require different actions before
        the test run than integration testing and vice versa.</p><p>You can simply define several beans of test suites in the Spring configuration. There could be one test suite
        instance for unit testing and one for integration testing, with their individual configuration like separate
        'tasksBefore' and different including patterns for tests.</p><p>By default Citrus will start all available test suite instances in sequence. If you want to
        start a certain instance explicitly you have to declare the name of the instance when starting Citrus.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="functions.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="tibco.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;15.&nbsp;Functions&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;17.&nbsp;TIBCO support</td></tr></table></div></body></html>