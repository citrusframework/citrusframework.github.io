<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;19.&nbsp;Customize meta information</title><link rel="stylesheet" href="reference-html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="Citrus Framework - Reference Documentation"><link rel="up" href="index.html" title="Citrus Framework - Reference Documentation"><link rel="prev" href="schema-validation.html" title="Chapter&nbsp;18.&nbsp;XML schema validation"><link rel="next" href="debug-messages.html" title="Chapter&nbsp;20.&nbsp;Debugging received messages"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;19.&nbsp;Customize meta information</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="schema-validation.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="debug-messages.html">Next</a></td></tr></table><hr></div><div class="chapter" title="Chapter&nbsp;19.&nbsp;Customize meta information"><div class="titlepage"><div><div><h2 class="title"><a name="meta-info"></a>Chapter&nbsp;19.&nbsp;Customize meta information</h2></div></div></div><p>Test cases in Citrus are usually provided with some meta information like the author&#8217;s name or the 
    date of creation. In Citrus you are able to extend this test case meta information with your own very specific
    criteria.</p><p>By default a test case comes shipped with meta information that looks like this:</p><pre class="programlisting"><span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;testcase</span> <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">name</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"PwdChange_OK_1_Test"</span><span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&gt;</span>
    <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;meta-info&gt;</span>
        <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;author&gt;</span>Christoph<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/author&gt;</span>
        <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;creationdate&gt;</span>2010-01-18<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/creationdate&gt;</span>
        <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;status&gt;</span>FINAL<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/status&gt;</span>
        <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;last-updated-by&gt;</span>Christoph<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/last-updated-by&gt;</span>
        <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;last-updated-on&gt;</span>2010-01-18T15:00:00<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/last-updated-on&gt;</span>
    <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/meta-info&gt;</span>
 
    [...]
<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/testcase&gt;</span></pre><p>You can quite easily add data to this section in order to meet your individual testing strategy. 
    Let us have a simple example to show how it is done.</p><p>First of all we define a custom XSD schema describing the new elements:</p><pre class="programlisting"><span class="hl-directive" style="color: maroon">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;schema</span> <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">xmlns</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"http://www.w3.org/2001/XMLSchema"</span>  
        <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">xmlns:tns</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"http://www.citrusframework.org/samples/my-testcase-info"</span> 
        <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">targetNamespace</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"http://www.citrusframework.org/samples/my-testcase-info"</span>
        <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">elementFormDefault</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"qualified"</span><span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&gt;</span>
 
    <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;element</span> <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">name</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"requirement"</span> <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">type</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"string"</span><span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">/&gt;</span>
    <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;element</span> <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">name</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"pre-condition"</span> <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">type</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"string"</span><span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">/&gt;</span>
    <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;element</span> <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">name</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"result"</span> <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">type</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"string"</span><span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">/&gt;</span>
    <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;element</span> <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">name</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"classification"</span> <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">type</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"string"</span><span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">/&gt;</span>
<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/schema&gt;</span></pre><p>We have four simple elements (<span class="emphasis"><em>requirement</em></span>, <span class="emphasis"><em>pre-condition</em></span>, <span class="emphasis"><em>result</em></span> 
    and <span class="emphasis"><em>classification</em></span>) all typed as string. These new elements later go into the test case meta information section.</p><p>After we added the new XML schema file to the classpath of our project we need to announce the schema to Spring. As you might
    know already a Citrus test case is nothing else but a simple Spring configuration file with customized XML schema support. If we add new elements
    to a test case Spring needs to know the XML schema for parsing the test case configuration file. See the <span class="emphasis"><em>spring.schemas</em></span> file 
    usually placed in the META-INF/spring.schemas in your project.</p><p>The file content for our example will look like follows:</p><pre class="programlisting">http://www.citrusframework.org/samples/my-testcase-info/my-testcase-info.xsd=com/consol/citrus/schemas/my-testcase-info.xsd</pre><p>So now we are finally ready to use the new meta-info elements inside the test case:</p><pre class="programlisting"><span class="hl-directive" style="color: maroon">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;spring:beans</span> <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">xmlns</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"http://www.citrusframework.org/schema/testcase"</span>
    <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">xmlns:spring</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"http://www.springframework.org/schema/beans"</span> 
    <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">xmlns:custom</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"http://www.citrusframework.org/samples/my-testcase-info"</span>
    <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">xmlns:xsi</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">xsi:schemaLocation</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"http://www.springframework.org/schema/beans 
      http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
      http://www.citrusframework.org/schema/testcase 
      http://www.citrusframework.org/schema/testcase/citrus-testcase-1.1.xsd 
      http://www.citrusframework.org/samples/my-testcase-info 
      http://www.citrusframework.org/samples/my-testcase-info/my-testcase-info.xsd"</span><span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&gt;</span>
 
    <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;testcase</span> <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-attribute">name</span>=<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-value">"PwdChange_OK_1_Test"</span><span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&gt;</span>
        <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;meta-info&gt;</span>
            <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;author&gt;</span>Christoph<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/author&gt;</span>
            <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;creationdate&gt;</span>2010-01-18<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/creationdate&gt;</span>
            <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;status&gt;</span>FINAL<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/status&gt;</span>
            <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;last-updated-by&gt;</span>Christoph<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/last-updated-by&gt;</span>
            <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;last-updated-on&gt;</span>2010-01-18T15:00:00<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/last-updated-on&gt;</span>
            <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;custom:requirement&gt;</span>REQ10001<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/custom:requirement&gt;</span>
            <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;custom:pre-condition&gt;</span>Existing user, sufficient rights<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/custom:pre-condition&gt;</span>
            <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;custom:result&gt;</span>Password reset in database<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/custom:result&gt;</span>
            <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;custom:classification&gt;</span>PasswordChange<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/custom:classification&gt;</span>
        <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/meta-info&gt;</span>
 
        [...]
    <span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/testcase&gt;</span>
<span xmlns="http://www.w3.org/TR/xhtml1/transitional" class="hl-tag">&lt;/spring:beans&gt;</span></pre><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/admons/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top">We use a separate namespace declaration with a custom namespace prefix &#8220;custom&#8221; in order to declare the new XML schema to our test case.
    Of course you can pick a namespace url and prefix that fits best for your project.</td></tr></table></div><p>As you see it is quite easy to add custom meta information to your Citrus test case. The customized elements may be precious for automatic reporting. 
    XSL transformations for instance are able to read those meta information elements in order to generate automatic test reports and documentation.</p><p>You can also declare our new XML schema in the Eclipse preferences section as user specific XML catalog entry. Then even the schema code completion 
    in your Eclipse XML editor will be available for our customized meta-info elements.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="schema-validation.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="debug-messages.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;18.&nbsp;XML schema validation&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;20.&nbsp;Debugging received messages</td></tr></table></div></body></html>