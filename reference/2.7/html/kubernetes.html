<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Kubernetes | Citrus Reference Guide</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-anchors/plugin.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-code_tomorrow_scheme/code-tomorrow-scheme.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    
        <link rel="stylesheet" href="./styles/website.css">
    

        
    
    
    <link rel="next" href="./ssh.html" />
    
    
    <link rel="prev" href="./docker.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="30"
        data-chapter-title="Kubernetes"
        data-filepath="kubernetes.md"
        data-basepath="."
        data-revision="Wed Feb 01 2017 17:43:10 GMT+0100 (CET)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="preface.html">
            
                
                    <a href="./preface.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Preface
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="changes-new.html">
            
                
                    <a href="./changes-new.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Changes new
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="introduction.html">
            
                
                    <a href="./introduction.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="setup.html">
            
                
                    <a href="./setup.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Setup
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="test-case.html">
            
                
                    <a href="./test-case.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Test case
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="test-variables.html">
            
                
                    <a href="./test-variables.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Test variables
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="run.html">
            
                
                    <a href="./run.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Run
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="configuration.html">
            
                
                    <a href="./configuration.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Configuration
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="endpoints.html">
            
                
                    <a href="./endpoints.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        Endpoints
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10" data-path="validation.html">
            
                
                    <a href="./validation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        Validation
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="10.1" data-path="validation-xml.html">
            
                
                    <a href="./validation-xml.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.1.</b>
                        
                        Xml
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.2" data-path="validation-schema.html">
            
                
                    <a href="./validation-schema.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.2.</b>
                        
                        Schema
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.3" data-path="validation-json.html">
            
                
                    <a href="./validation-json.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.3.</b>
                        
                        Json
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.4" data-path="validation-xhtml.html">
            
                
                    <a href="./validation-xhtml.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.4.</b>
                        
                        Xhtml
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.5" data-path="validation-plaintext.html">
            
                
                    <a href="./validation-plaintext.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.5.</b>
                        
                        Plaintext
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.6" data-path="validation-binary.html">
            
                
                    <a href="./validation-binary.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.6.</b>
                        
                        Binary
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.7" data-path="validation-gzip.html">
            
                
                    <a href="./validation-gzip.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.7.</b>
                        
                        Gzip
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="11" data-path="xpath.html">
            
                
                    <a href="./xpath.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        Xpath
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="json-path.html">
            
                
                    <a href="./json-path.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        JsonPath
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13" data-path="actions.html">
            
                
                    <a href="./actions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        Actions
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="13.1" data-path="actions-send.html">
            
                
                    <a href="./actions-send.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.1.</b>
                        
                        Send
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.2" data-path="actions-receive.html">
            
                
                    <a href="./actions-receive.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.2.</b>
                        
                        Receive
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.3" data-path="actions-database.html">
            
                
                    <a href="./actions-database.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.3.</b>
                        
                        Database
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.4" data-path="actions-sleep.html">
            
                
                    <a href="./actions-sleep.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.4.</b>
                        
                        Sleep
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.5" data-path="actions-java.html">
            
                
                    <a href="./actions-java.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.5.</b>
                        
                        Java
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.6" data-path="actions-timeout.html">
            
                
                    <a href="./actions-timeout.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.6.</b>
                        
                        Timeout
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.7" data-path="actions-echo.html">
            
                
                    <a href="./actions-echo.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.7.</b>
                        
                        Echo
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.8" data-path="actions-stop-time.html">
            
                
                    <a href="./actions-stop-time.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.8.</b>
                        
                        Stop time
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.9" data-path="actions-create-variables.html">
            
                
                    <a href="./actions-create-variables.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.9.</b>
                        
                        Create variables
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.10" data-path="actions-trace.html">
            
                
                    <a href="./actions-trace.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.10.</b>
                        
                        Trace
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.11" data-path="actions-transform.html">
            
                
                    <a href="./actions-transform.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.11.</b>
                        
                        Transform
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.12" data-path="actions-groovy.html">
            
                
                    <a href="./actions-groovy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.12.</b>
                        
                        Groovy
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.13" data-path="actions-fail.html">
            
                
                    <a href="./actions-fail.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.13.</b>
                        
                        Fail
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.14" data-path="actions-input.html">
            
                
                    <a href="./actions-input.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.14.</b>
                        
                        Input
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.15" data-path="actions-load.html">
            
                
                    <a href="./actions-load.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.15.</b>
                        
                        Load
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.16" data-path="actions-wait.html">
            
                
                    <a href="./actions-wait.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.16.</b>
                        
                        Wait
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.17" data-path="actions-purge-jms.html">
            
                
                    <a href="./actions-purge-jms.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.17.</b>
                        
                        Purge JMS queues
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.18" data-path="actions-purge-channels.html">
            
                
                    <a href="./actions-purge-channels.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.18.</b>
                        
                        Purge channels
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.19" data-path="actions-purge-endpoints.html">
            
                
                    <a href="./actions-purge-endpoints.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.19.</b>
                        
                        Purge endpoints
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.20" data-path="actions-assert.html">
            
                
                    <a href="./actions-assert.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.20.</b>
                        
                        Assert
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.21" data-path="actions-catch.html">
            
                
                    <a href="./actions-catch.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.21.</b>
                        
                        Catch
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.22" data-path="actions-antrun.html">
            
                
                    <a href="./actions-antrun.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.22.</b>
                        
                        Antrun
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.23" data-path="actions-manage-server.html">
            
                
                    <a href="./actions-manage-server.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.23.</b>
                        
                        Manage server
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.24" data-path="actions-stop-timer.html">
            
                
                    <a href="./actions-stop-timer.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.24.</b>
                        
                        Stop timer
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.25" data-path="actions-generic-action.html">
            
                
                    <a href="./actions-generic-action.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.25.</b>
                        
                        Generic action
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="14" data-path="templates.html">
            
                
                    <a href="./templates.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                        Templates
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15" data-path="behaviors.html">
            
                
                    <a href="./behaviors.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                        Test behaviors
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16" data-path="containers.html">
            
                
                    <a href="./containers.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.</b>
                        
                        Containers
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="16.1" data-path="containers-sequential.html">
            
                
                    <a href="./containers-sequential.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.1.</b>
                        
                        Sequential
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.2" data-path="containers-conditional.html">
            
                
                    <a href="./containers-conditional.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.2.</b>
                        
                        Conditional
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.3" data-path="containers-parallel.html">
            
                
                    <a href="./containers-parallel.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.3.</b>
                        
                        Parallel
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.4" data-path="containers-iterate.html">
            
                
                    <a href="./containers-iterate.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.4.</b>
                        
                        Iterate
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.5" data-path="containers-repeat.html">
            
                
                    <a href="./containers-repeat.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.5.</b>
                        
                        Repeat
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.6" data-path="containers-repeat-onerror.html">
            
                
                    <a href="./containers-repeat-onerror.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.6.</b>
                        
                        Repeat On Error
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.7" data-path="containers-timer.html">
            
                
                    <a href="./containers-timer.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.7.</b>
                        
                        Timer
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.8" data-path="containers-custom.html">
            
                
                    <a href="./containers-custom.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.8.</b>
                        
                        Custom
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="17" data-path="finally-section.html">
            
                
                    <a href="./finally-section.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>17.</b>
                        
                        Finally
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18" data-path="jms.html">
            
                
                    <a href="./jms.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.</b>
                        
                        Jms
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="19" data-path="http.html">
            
                
                    <a href="./http.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>19.</b>
                        
                        Http
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="20" data-path="http-websocket.html">
            
                
                    <a href="./http-websocket.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>20.</b>
                        
                        Http Websockets
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="21" data-path="soap.html">
            
                
                    <a href="./soap.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>21.</b>
                        
                        Soap
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="22" data-path="ftp.html">
            
                
                    <a href="./ftp.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>22.</b>
                        
                        Ftp
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="23" data-path="message-channel.html">
            
                
                    <a href="./message-channel.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>23.</b>
                        
                        Message channel
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="24" data-path="file.html">
            
                
                    <a href="./file.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>24.</b>
                        
                        File
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="25" data-path="camel.html">
            
                
                    <a href="./camel.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>25.</b>
                        
                        Camel
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="26" data-path="vertx.html">
            
                
                    <a href="./vertx.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>26.</b>
                        
                        Vertx
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="27" data-path="mail.html">
            
                
                    <a href="./mail.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>27.</b>
                        
                        Mail
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="28" data-path="arquillian.html">
            
                
                    <a href="./arquillian.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>28.</b>
                        
                        Arquillian
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="29" data-path="docker.html">
            
                
                    <a href="./docker.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>29.</b>
                        
                        Docker
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="30" data-path="kubernetes.html">
            
                
                    <a href="./kubernetes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>30.</b>
                        
                        Kubernetes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="31" data-path="ssh.html">
            
                
                    <a href="./ssh.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>31.</b>
                        
                        Ssh
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="32" data-path="rmi.html">
            
                
                    <a href="./rmi.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>32.</b>
                        
                        Rmi
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="33" data-path="jmx.html">
            
                
                    <a href="./jmx.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>33.</b>
                        
                        Jmx
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="34" data-path="cucumber.html">
            
                
                    <a href="./cucumber.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>34.</b>
                        
                        Cucumber
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="35" data-path="zookeeper.html">
            
                
                    <a href="./zookeeper.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>35.</b>
                        
                        Zookeeper
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="36" data-path="restdocs.html">
            
                
                    <a href="./restdocs.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>36.</b>
                        
                        Restdocs
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="37" data-path="selenium.html">
            
                
                    <a href="./selenium.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>37.</b>
                        
                        Selenium
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="38" data-path="endpoint-component.html">
            
                
                    <a href="./endpoint-component.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>38.</b>
                        
                        Endpoint component
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="39" data-path="endpoint-adapter.html">
            
                
                    <a href="./endpoint-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>39.</b>
                        
                        Endpoint adapter
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="40" data-path="functions.html">
            
                
                    <a href="./functions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>40.</b>
                        
                        Functions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="41" data-path="validation-matchers.html">
            
                
                    <a href="./validation-matchers.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>41.</b>
                        
                        Validation Matchers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="42" data-path="data-dictionary.html">
            
                
                    <a href="./data-dictionary.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>42.</b>
                        
                        Data dictionary
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="43" data-path="test-actors.html">
            
                
                    <a href="./test-actors.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>43.</b>
                        
                        Test actors
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="44" data-path="test-suite.html">
            
                
                    <a href="./test-suite.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>44.</b>
                        
                        Test suite
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="45" data-path="meta-info.html">
            
                
                    <a href="./meta-info.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>45.</b>
                        
                        Meta info
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="46" data-path="message-tracing.html">
            
                
                    <a href="./message-tracing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>46.</b>
                        
                        Message tracing
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="47" data-path="reporting.html">
            
                
                    <a href="./reporting.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>47.</b>
                        
                        Reporting
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="48" data-path="samples.html">
            
                
                    <a href="./samples.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>48.</b>
                        
                        Samples
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="48.1" data-path="samples-flightbooking.html">
            
                
                    <a href="./samples-flightbooking.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>48.1.</b>
                        
                        Flight Booking Sample
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="49" data-path="appendix.html">
            
                
                    <a href="./appendix.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.</b>
                        
                        Appendix
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="49.1" data-path="changes-2-6.html">
            
                
                    <a href="./changes-2-6.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.1.</b>
                        
                        Changes 2.6
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="49.2" data-path="changes-2-5.html">
            
                
                    <a href="./changes-2-5.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.2.</b>
                        
                        Changes 2.5
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="49.3" data-path="changes-2-4.html">
            
                
                    <a href="./changes-2-4.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.3.</b>
                        
                        Changes 2.4
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="49.4" data-path="changes-2-3.html">
            
                
                    <a href="./changes-2-3.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.4.</b>
                        
                        Changes 2.3
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="49.5" data-path="changes-2-2.html">
            
                
                    <a href="./changes-2-2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.5.</b>
                        
                        Changes 2.2
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="49.6" data-path="changes-2-1.html">
            
                
                    <a href="./changes-2-1.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.6.</b>
                        
                        Changes 2.1
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="49.7" data-path="changes-2-0.html">
            
                
                    <a href="./changes-2-0.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.7.</b>
                        
                        Changes 2.0
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="49.8" data-path="changes-1-4.html">
            
                
                    <a href="./changes-1-4.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.8.</b>
                        
                        Changes 1.4
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="49.9" data-path="changes-1-3.html">
            
                
                    <a href="./changes-1-3.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.9.</b>
                        
                        Changes 1.3
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="49.10" data-path="changes-1-2.html">
            
                
                    <a href="./changes-1-2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.10.</b>
                        
                        Changes 1.2
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Citrus Reference Guide</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h2 id="kubernetes-support"><a name="kubernetes-support" class="plugin-anchor" href="#kubernetes-support"><span class="fa fa-link"></span></a>Kubernetes support</h2>
<p><a href="http://kubernetes.io/" target="_blank">Kubernetes</a> is one of the hottest management platforms for containerized applications these days. Kubernetes lets you deploy, scale and manage your containers on the platform so you get features like auto-scaling, self-healing, service discovery and load balancing.
Citrus provides interaction with the Kubernetes REST API so you can access the Kubernetes platform and its resources within a Citrus test case.</p>
<p><strong>Note</strong>
The Kubernetes test components in Citrus are kept in a separate Maven module. If not already done so you have to include the module as Maven dependency to your project</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">dependency</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">groupId</span>&gt;</span>com.consol.citrus<span class="hljs-tag">&lt;/<span class="hljs-title">groupId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">artifactId</span>&gt;</span>citrus-kubernetes<span class="hljs-tag">&lt;/<span class="hljs-title">artifactId</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>2.7<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">dependency</span>&gt;</span>
</code></pre>
<p>Citrus provides a &quot;citrus-kubernetes&quot; configuration namespace and schema definition for Kubernetes related components and actions. Include this namespace into your Spring configuration in order to use the Citrus Kubernetes configuration elements. The namespace URI and schema location are added to the Spring configuration XML file as follows.</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">beans</span> <span class="hljs-attribute">xmlns</span>=<span class="hljs-value">&quot;http://www.springframework.org/schema/beans&quot;</span>
       <span class="hljs-attribute">xmlns:xsi</span>=<span class="hljs-value">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
       <span class="hljs-attribute">xmlns:citrus-k8s</span>=<span class="hljs-value">&quot;http://www.citrusframework.org/schema/kubernetes/config&quot;</span>
       <span class="hljs-attribute">xsi:schemaLocation</span>=<span class="hljs-value">&quot;
       http://www.springframework.org/schema/beans 
       http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.citrusframework.org/schema/kubernetes/config
       http://www.citrusframework.org/schema/kubernetes/config/citrus-kubernetes-config.xsd&quot;</span>&gt;</span>

    [...]

<span class="hljs-tag">&lt;/<span class="hljs-title">beans</span>&gt;</span>
</code></pre>
<p>After that you are able to use customized Citrus XML elements in order to define the Spring beans.</p>
<h3 id="kubernetes-client"><a name="kubernetes-client" class="plugin-anchor" href="#kubernetes-client"><span class="fa fa-link"></span></a>Kubernetes client</h3>
<p>Citrus operates with the Kubernetes remote REST API in order to interact with the Kubernetes platform. The Kubernetes client is defined as Spring bean component in the configuration as follows:</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">citrus-k8s:client</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">&quot;myK8sClient&quot;</span>/&gt;</span>
</code></pre>
<p>The Kubernetes client is based on the <a href="https://github.com/fabric8io/kubernetes-client" target="_blank">Fabric8 Java Kubernetes client</a> implementation. Following from that the component can be configured in various ways. 
By default the client reads the system properties as well as environment variables for default Kubernetes settings such as:</p>
<ul>
<li><strong>kubernetes.master</strong> / <strong>KUBERNETES_MASTER</strong></li>
<li><strong>kubernetes.api.version</strong> / <strong>KUBERNETES_API_VERSION</strong></li>
<li><strong>kubernetes.trust.certificates</strong> / <strong>KUBERNETES_TRUST_CERTIFICATES</strong></li>
</ul>
<p>If you set these properties in your environment the client component will automatically pick up the configuration settings. Also when using <code>kubectl</code> command line locally the client may automatically 
use the stored user authentication settings from there. For a complete list of settings and explanation of those please refer to the <a href="https://github.com/fabric8io/kubernetes-client" target="_blank">Fabric8 client documentation</a>.</p>
<p>In case you need to set the client configuration explicitly on your environment you can also use explicit settings on the Kubernetes client component:</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">citrus-k8s:client</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">&quot;myK8sClient&quot;</span>
              <span class="hljs-attribute">url</span>=<span class="hljs-value">&quot;http://localhost:8843&quot;</span>
              <span class="hljs-attribute">version</span>=<span class="hljs-value">&quot;v1&quot;</span>
              <span class="hljs-attribute">username</span>=<span class="hljs-value">&quot;user&quot;</span>
              <span class="hljs-attribute">password</span>=<span class="hljs-value">&quot;s!cr!t&quot;</span>
              <span class="hljs-attribute">namespace</span>=<span class="hljs-value">&quot;user_namespace&quot;</span>
              <span class="hljs-attribute">message-converter</span>=<span class="hljs-value">&quot;messageConverter&quot;</span>
              <span class="hljs-attribute">object-mapper</span>=<span class="hljs-value">&quot;objectMapper&quot;</span>/&gt;</span>
</code></pre>
<p>Now Citrus is able to access the Kubernetes remote API for executing commands such as list-pods, watch-services and so on. Citrus provides a set of actions that
perform a Kubernetes command via REST. The results usually get validated in the Citrus test as usual.</p>
<p>Based on that we can execute several Kubernetes commands in a test case and validate the Json results:</p>
<p>Citrus supports the following Kubernetes API commands with respective test actions:</p>
<ul>
<li><strong>k8s:info</strong> </li>
<li><strong>k8s:list-pods</strong> </li>
<li><strong>k8s:get-pod</strong> </li>
<li><strong>k8s:delete-pod</strong> </li>
<li><strong>k8s:list-services</strong> </li>
<li><strong>k8s:get-service</strong> </li>
<li><strong>k8s:delete-service</strong> </li>
<li><strong>k8s:list-namespaces</strong> </li>
<li><strong>k8s:list-events</strong> </li>
<li><strong>k8s:list-endpoints</strong> </li>
<li><strong>k8s:list-nodes</strong> </li>
<li><strong>k8s:list-replication-controllers</strong></li>
<li><strong>k8s:watch-pods</strong> </li>
<li><strong>k8s:watch-services</strong> </li>
<li><strong>k8s:watch-namespaces</strong> </li>
<li><strong>k8s:watch-nodes</strong> </li>
<li><strong>k8s:watch-replication-controllers</strong></li>
</ul>
<p>We will discuss these commands in detail later on in this chapter. For now lets have a closer look on how to use the commands inside of a Citrus test.</p>
<h3 id="kubernetes-commands-in-xml"><a name="kubernetes-commands-in-xml" class="plugin-anchor" href="#kubernetes-commands-in-xml"><span class="fa fa-link"></span></a>Kubernetes commands in XML</h3>
<p>We have several Citrus test actions each representing a Kubernetes command. These actions can be part of a test case where you can manage Kubernetes pods inside the test. As a prerequisite we have to enable the Kubernetes 
specific test actions in our XML test as follows:</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">beans</span> <span class="hljs-attribute">xmlns</span>=<span class="hljs-value">&quot;http://www.springframework.org/schema/beans&quot;</span>
        <span class="hljs-attribute">xmlns:xsi</span>=<span class="hljs-value">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
        <span class="hljs-attribute">xmlns:k8s</span>=<span class="hljs-value">&quot;http://www.citrusframework.org/schema/kubernetes/testcase&quot;</span>
        <span class="hljs-attribute">xsi:schemaLocation</span>=<span class="hljs-value">&quot;
        http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.citrusframework.org/schema/kubernetes/testcase
        http://www.citrusframework.org/schema/kubernetes/testcase/citrus-kubernetes-testcase.xsd&quot;</span>&gt;</span>

    [...]

<span class="hljs-tag">&lt;/<span class="hljs-title">beans</span>&gt;</span>
</code></pre>
<p>We added a special kubernetes namespace with prefix <strong>k8s:</strong> so now we can start to add Kubernetes test actions to the test case:</p>
<p><strong>XML DSL</strong> </p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">testcase</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&quot;KubernetesCommandIT&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">actions</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">k8s:info</span> <span class="hljs-attribute">client</span>=<span class="hljs-value">&quot;myK8sClient&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">k8s:validate</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">k8s:result</span>&gt;</span>{
            &quot;result&quot;: {
              &quot;clientVersion&quot;: &quot;1.4.27&quot;,
              &quot;apiVersion&quot;: &quot;v1&quot;,
              &quot;kind&quot;:&quot;Info&quot;,
              &quot;masterUrl&quot;: &quot;${masterUrl}&quot;,
              &quot;namespace&quot;: &quot;test&quot;
            }
          }<span class="hljs-tag">&lt;/<span class="hljs-title">k8s:result</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">k8s:validate</span>&gt;</span>      
      <span class="hljs-tag">&lt;/<span class="hljs-title">k8s:info</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-title">k8s:list-pods</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">k8s:validate</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">k8s:result</span>&gt;</span>{
            &quot;result&quot;: {
              &quot;apiVersion&quot;:&quot;v1&quot;,
              &quot;kind&quot;:&quot;PodList&quot;,
              &quot;metadata&quot;:&quot;@ignore@&quot;,
              &quot;items&quot;:[]
            }
          }<span class="hljs-tag">&lt;/<span class="hljs-title">k8s:result</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">k8s:element</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">&quot;$.result.items.size()&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">&quot;0&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">k8s:validate</span>&gt;</span>        
      <span class="hljs-tag">&lt;/<span class="hljs-title">k8s:list-pods</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">actions</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">testcase</span>&gt;</span>
</code></pre>
<p>In this very simple example we first ping the Kubernetes REST API to make sure we have connectivity up and running. The info command connects the REST API and returns a list of status information of the Kubernetes client. 
After that we get the list of available Kubernetes pods. As a tester we might be interested in validating the command results. So wen can specify an optional <strong>k8s:result</strong> which is usually in Json format. With that we can apply the full
Citrus Json validation power to the Kubernetes results. As usual we can use test variables here and ignore some values explicitly such as the <strong>metadata</strong> value. Also JsonPath expression validation and Json test message validation features in
Citrus come in here to validate the results.</p>
<h3 id="kubernetes-commands-in-java"><a name="kubernetes-commands-in-java" class="plugin-anchor" href="#kubernetes-commands-in-java"><span class="fa fa-link"></span></a>Kubernetes commands in Java</h3>
<p>Up to now we have only used the Citrus XML DSL. Of course all Kubernetes commands are also available in Java DSL as the next example shows.</p>
<p><strong>Java DSL</strong> </p>
<pre><code class="lang-java"><span class="hljs-annotation">@CitrusTest</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">kubernetesTest</span><span class="hljs-params">()</span> </span>{
    kubernetes().info()
                .validate(<span class="hljs-keyword">new</span> CommandResultCallback&lt;InfoResult&gt;() {
                    <span class="hljs-annotation">@Override</span>
                    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doWithCommandResult</span><span class="hljs-params">(InfoResult info, TestContext context)</span> </span>{
                        Assert.assertEquals(info.getApiVersion(), <span class="hljs-string">&quot;v1&quot;</span>);
                    }
            });

    kubernetes().pods()
                .list()
                .withoutLabel(<span class="hljs-string">&quot;running&quot;</span>)
                .label(<span class="hljs-string">&quot;app&quot;</span>, <span class="hljs-string">&quot;myApp&quot;</span>);
}
</code></pre>
<p>The Java DSL Kubernetes commands provide an optional <strong>CommandResultCallback</strong> that is automatically called with the unmarshalled command result object. 
In the example above the <em>InfoResult</em> model object is passed as argument to the callback. So the tester can access the command result and validate its properties with assertions.</p>
<p>Java 8 Lambda expressions add some syntactical sugar to the command result validation:</p>
<p><strong>Java DSL</strong> </p>
<pre><code class="lang-java"><span class="hljs-annotation">@CitrusTest</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">kubernetesTest</span><span class="hljs-params">()</span> </span>{
    kubernetes().info()
                .validate((info, context) -&gt; Assert.assertEquals(info.getApiVersion(), <span class="hljs-string">&quot;v1&quot;</span>));

    kubernetes().pods()
                .list()
                .withoutLabel(<span class="hljs-string">&quot;running&quot;</span>)
                .label(<span class="hljs-string">&quot;app&quot;</span>, <span class="hljs-string">&quot;myApp&quot;</span>);
}
</code></pre>
<p>By default Citrus tries to find a Kubernetes client component within the Citrus Spring application context. If not present Citrus will instantiate a default kubernetes client with all default settings. 
You can also explicitly set the kubernetes client instance when using the Java DSL Kubernetes command actions:</p>
<p><strong>Java DSL</strong> </p>
<pre><code class="lang-java"><span class="hljs-annotation">@Autowired</span>
<span class="hljs-keyword">private</span> KubernetesClient kubernetesClient;

<span class="hljs-annotation">@CitrusTest</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">kubernetesTest</span><span class="hljs-params">()</span> </span>{
    kubernetes().client(kubernetesClient)
                .info()
                .validate((info, context) -&gt; Assert.assertEquals(info.getApiVersion(), <span class="hljs-string">&quot;v1&quot;</span>));

    kubernetes().client(kubernetesClient)
                .pods()
                .list()
                .withoutLabel(<span class="hljs-string">&quot;running&quot;</span>)
                .label(<span class="hljs-string">&quot;app&quot;</span>, <span class="hljs-string">&quot;myApp&quot;</span>);
}
</code></pre>
<h3 id="info-command"><a name="info-command" class="plugin-anchor" href="#info-command"><span class="fa fa-link"></span></a>Info command</h3>
<p>The info command just gets the client connection settings and provides them as a Json result to the action.</p>
<p><strong>XML DSL</strong> </p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">k8s:info</span> <span class="hljs-attribute">client</span>=<span class="hljs-value">&quot;myK8sClient&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">k8s:validate</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">k8s:result</span>&gt;</span>{
      &quot;result&quot;: {
        &quot;clientVersion&quot;: &quot;1.4.27&quot;,
        &quot;apiVersion&quot;: &quot;v1&quot;,
        &quot;kind&quot;:&quot;Info&quot;,
        &quot;masterUrl&quot;: &quot;${masterUrl}&quot;,
        &quot;namespace&quot;: &quot;test&quot;
      }
    }<span class="hljs-tag">&lt;/<span class="hljs-title">k8s:result</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">k8s:validate</span>&gt;</span>      
<span class="hljs-tag">&lt;/<span class="hljs-title">k8s:info</span>&gt;</span>
</code></pre>
<p><strong>Java DSL</strong> </p>
<pre><code class="lang-java"><span class="hljs-annotation">@CitrusTest</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">infoTest</span><span class="hljs-params">()</span> </span>{
    kubernetes().info()
                .validate((info, context) -&gt; Assert.assertEquals(info.getApiVersion(), <span class="hljs-string">&quot;v1&quot;</span>));
}
</code></pre>
<h3 id="list-resources"><a name="list-resources" class="plugin-anchor" href="#list-resources"><span class="fa fa-link"></span></a>List resources</h3>
<p>We can list Kubernetes resources such as pods, services, endpoints and replication controllers. The list can be filtered by several properties such as</p>
<ul>
<li>label</li>
<li>namespace</li>
</ul>
<p>The test action is able to define respective filters to the list so we get only pods the match the given attributes:</p>
<p><strong>XML DSL</strong> </p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">k8s:list-pods</span> <span class="hljs-attribute">label</span>=<span class="hljs-value">&quot;app=todo&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">k8s:validate</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">k8s:result</span>&gt;</span>{
        &quot;result&quot;: {
          &quot;apiVersion&quot;:&quot;${apiVersion}&quot;,
          &quot;kind&quot;:&quot;PodList&quot;,
          &quot;metadata&quot;:&quot;@ignore@&quot;,
          &quot;items&quot;:&quot;@ignore@&quot;
        }
      }<span class="hljs-tag">&lt;/<span class="hljs-title">k8s:result</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">k8s:element</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">&quot;$.result.items.size()&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">&quot;1&quot;</span>/&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">k8s:element</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">&quot;$..status.phase&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">&quot;Running&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">k8s:validate</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">k8s:list-pods</span>&gt;</span>
</code></pre>
<p><strong>Java DSL</strong> </p>
<pre><code class="lang-java"><span class="hljs-annotation">@CitrusTest</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">listPodsTest</span><span class="hljs-params">()</span> </span>{
    kubernetes()
        .client(k8sClient)
        .pods()
        .list()
        .label(<span class="hljs-string">&quot;app=todo&quot;</span>)
        .validate(<span class="hljs-string">&quot;$..status.phase&quot;</span>, <span class="hljs-string">&quot;Running&quot;</span>)
        .validate((pods, context) -&gt; {
            Assert.assertFalse(CollectionUtils.isEmpty(pods.getResult().getItems()));
        });
}
</code></pre>
<p>As you can see we are able to give the pod label that is searched for in list of all pods. The list returned is validated either by giving an expected Json message
or by adding JsonPath expressions with expected values to check.</p>
<p>In Java DSL we can add a validation result callback that is provided with the unmarshalled result object for validation. Besides <em>label</em> filtering we can also specify the <em>namespace</em>
and the pod <em>name</em> to search for.</p>
<p>You can also define multiple labels as comma delimited list:</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">k8s:list-services</span> <span class="hljs-attribute">label</span>=<span class="hljs-value">&quot;stage!=test,provider=fabric8&quot;</span> <span class="hljs-attribute">namespace</span>=<span class="hljs-value">&quot;default&quot;</span>/&gt;</span>
</code></pre>
<p>As you can see we have combined to label filters <em>stage!=test</em> and <em>provider=fabric8</em> on pods in namespace <em>default</em>. The first label filter is negated so the label <em>stage</em> should <strong>not</strong> be <em>test</em> here.</p>
<h3 id="list-nodes-and-namespaces"><a name="list-nodes-and-namespaces" class="plugin-anchor" href="#list-nodes-and-namespaces"><span class="fa fa-link"></span></a>List nodes and namespaces</h3>
<p>Nodes and namespaces are special resources that are not filtered by their namespace as they are more global resources. The rest is pretty similar to listing pods or services. We can
add filteres such as <em>name</em> and <em>label</em>.</p>
<p><strong>XML DSL</strong> </p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">k8s:list-namespaces</span> <span class="hljs-attribute">label</span>=<span class="hljs-value">&quot;provider=citrus&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">k8s:validate</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">k8s:element</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">&quot;$.result.items.size()&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">&quot;1&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">k8s:validate</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">k8s:list-namespaces</span>&gt;</span>
</code></pre>
<p><strong>Java DSL</strong> </p>
<pre><code class="lang-java"><span class="hljs-annotation">@CitrusTest</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">listPodsTest</span><span class="hljs-params">()</span> </span>{
    kubernetes()
        .client(k8sClient)
        .namespaces()
        .list()
        .label(<span class="hljs-string">&quot;provider=citrus&quot;</span>)
        .validate((pods, context) -&gt; {
            Assert.assertFalse(CollectionUtils.isEmpty(pods.getResult().getItems()));
        });
}
</code></pre>
<h3 id="get-resources"><a name="get-resources" class="plugin-anchor" href="#get-resources"><span class="fa fa-link"></span></a>Get resources</h3>
<p>We can get a very special Kubernetes resource such as a pod or service for detailed validation of that resource. We need to specify a resource name
in order to select the resource from list of available resources in Kubernetes.</p>
<p><strong>XML DSL</strong> </p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">k8s:get-pod</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&quot;citrus_pod&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">k8s:validate</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">k8s:result</span>&gt;</span>{
      &quot;result&quot;: {
        &quot;apiVersion&quot;:&quot;${apiVersion}&quot;,
        &quot;kind&quot;:&quot;Pod&quot;,
        &quot;metadata&quot;: {
            &quot;annotations&quot;:&quot;@ignore@&quot;,
            &quot;creationTimestamp&quot;:&quot;@ignore@&quot;,
            &quot;finalizers&quot;:[],
            &quot;generateName&quot;:&quot;@startsWith(&apos;hello-minikube-&apos;)@&quot;,
            &quot;labels&quot;:{
              &quot;pod-template-hash&quot;:&quot;@ignore@&quot;,
              &quot;run&quot;:&quot;hello-minikube&quot;
            },
            &quot;name&quot;:&quot;${podName}&quot;,
            &quot;namespace&quot;:&quot;default&quot;,
            &quot;ownerReferences&quot;:&quot;@ignore@&quot;,
            &quot;resourceVersion&quot;:&quot;@ignore@&quot;,
            &quot;selfLink&quot;:&quot;/api/${apiVersion}/namespaces/default/pods/${podName}&quot;,
            &quot;uid&quot;:&quot;@ignore@&quot;
        },
        &quot;spec&quot;: {
          &quot;containers&quot;: [{
            &quot;args&quot;:[],
            &quot;command&quot;:[],
            &quot;env&quot;:[],
            &quot;image&quot;:&quot;gcr.io/google_containers/echoserver:1.4&quot;,
            &quot;imagePullPolicy&quot;:&quot;IfNotPresent&quot;,
            &quot;name&quot;:&quot;hello-minikube&quot;,
            &quot;ports&quot;:[{
              &quot;containerPort&quot;:8080,
              &quot;protocol&quot;:&quot;TCP&quot;
            }],
            &quot;resources&quot;:{},
            &quot;terminationMessagePath&quot;:&quot;/dev/termination-log&quot;,
            &quot;volumeMounts&quot;:&quot;@ignore@&quot;
          }],
          &quot;dnsPolicy&quot;:&quot;ClusterFirst&quot;,
          &quot;imagePullSecrets&quot;:&quot;@ignore@&quot;,
          &quot;nodeName&quot;:&quot;minikube&quot;,
          &quot;restartPolicy&quot;:&quot;Always&quot;,
          &quot;securityContext&quot;:&quot;@ignore@&quot;,
          &quot;serviceAccount&quot;:&quot;default&quot;,
          &quot;serviceAccountName&quot;:&quot;default&quot;,
          &quot;terminationGracePeriodSeconds&quot;:30,
          &quot;volumes&quot;:&quot;@ignore@&quot;
        },
        &quot;status&quot;: &quot;@ignore@&quot;
      }
      }<span class="hljs-tag">&lt;/<span class="hljs-title">k8s:result</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">k8s:element</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">&quot;$..status.phase&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">&quot;Running&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">k8s:validate</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">k8s:get-pod</span>&gt;</span>
</code></pre>
<p><strong>Java DSL</strong> </p>
<pre><code class="lang-java"><span class="hljs-annotation">@CitrusTest</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">getPodsTest</span><span class="hljs-params">()</span> </span>{
    kubernetes()
        .client(k8sClient)
        .pods()
        .get(<span class="hljs-string">&quot;citrus_pod&quot;</span>)
        .validate(<span class="hljs-string">&quot;$..status.phase&quot;</span>, <span class="hljs-string">&quot;Running&quot;</span>)
        .validate((pod, context) -&gt; {
            Assert.assertEquals(pods.getResult().getStatus().getPhase(), <span class="hljs-string">&quot;Running&quot;</span>);
        });
}
</code></pre>
<p>As you can see we are able get the complete pod information from Kubernetes. The result is validated with Json message validator in Citrus. This means we can use <em>@ignore@</em> as well as test variables and
JsonPath expressions.</p>
<h3 id="create-resources"><a name="create-resources" class="plugin-anchor" href="#create-resources"><span class="fa fa-link"></span></a>Create resources</h3>
<p>We can create new Kubernetes resources within a Citrus test. This is very important in case we need to setup new pods or services for the test run. You can create new resources
by giving a <code>.yml</code> file holding all information how to create the new resource. See the following sample YAML for a new pod and service:</p>
<pre><code>kind: Pod
apiVersion: v1
metadata:
  name: hello-jetty-${randomId}
  namespace: default
  selfLink: /api/v1/namespaces/default/pods/hello-jetty-${randomId}
  uid: citrus:randomUUID()
  labels:
    server: hello-jetty
spec:
  containers:
    - name: hello-jetty
      image: jetty:9.3
      imagePullPolicy: IfNotPresent
      ports:
        - containerPort: 8080
          protocol: TCP
  restartPolicy: Always
  terminationGracePeriodSeconds: 30
  dnsPolicy: ClusterFirst
  serviceAccountName: default
  serviceAccount: default
  nodeName: minikube
</code></pre><p>This YAML file specifies a new resource of kind <em>Pod</em>. We define the metadata as well as all containers that are part of this pod. The container is build from
<em>jetty:9.3</em> Docker image that should be pulled automatically from Docker Hub registry. We also expose port 8080 as <em>containerPort</em> so the upcoming service configuration can provide this
port to clients as Kubernetes service.  </p>
<pre><code>kind: Service
apiVersion: v1
metadata:
  name: hello-jetty
  namespace: default
  selfLink: /api/v1/namespaces/default/services/hello-jetty
  uid: citrus:randomUUID()
  labels:
    service: hello-jetty
spec:
  ports:
    - protocol: TCP
      port: 8080
      targetPort: 8080
      nodePort: 31citrus:randomNumber(3)
  selector:
    server: hello-jetty
  type: NodePort
  sessionAffinity: None
</code></pre><p>The service resource maps the port <em>8080</em> and selects all pods with label <em>server=hello-jetty</em>. This makes the jetty container available to clients. The service type is <em>NodePort</em> which means
that clients outside of Kubernetes are also able to access the service by using the dynamic port <em>nodePort=31xxx</em>. We can use Citrus functions such as <em>randomNumber</em> in the YAML files.</p>
<p>In the test case we can use these YAML files to create the resources in Kubernetes: </p>
<p><strong>XML DSL</strong> </p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">k8s:create-pod</span> <span class="hljs-attribute">namespace</span>=<span class="hljs-value">&quot;default&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">k8s:template</span> <span class="hljs-attribute">file</span>=<span class="hljs-value">&quot;classpath:templates/hello-jetty-pod.yml&quot;</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">k8s:create-pod</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">k8s:create-service</span> <span class="hljs-attribute">namespace</span>=<span class="hljs-value">&quot;default&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">k8s:template</span> <span class="hljs-attribute">file</span>=<span class="hljs-value">&quot;classpath:templates/hello-jetty-service.yml&quot;</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">k8s:create-service</span>&gt;</span>
</code></pre>
<p><strong>Java DSL</strong> </p>
<pre><code class="lang-java"><span class="hljs-annotation">@CitrusTest</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">createPodsTest</span><span class="hljs-params">()</span> </span>{
    kubernetes()
        .pods()
        .create(<span class="hljs-keyword">new</span> ClassPathResource(<span class="hljs-string">&quot;templates/hello-jetty-pod.yml&quot;</span>))
        .namespace(<span class="hljs-string">&quot;default&quot;</span>);

    kubernetes()
        .services()
        .create(<span class="hljs-keyword">new</span> ClassPathResource(<span class="hljs-string">&quot;templates/hello-jetty-service.yml&quot;</span>))
        .namespace(<span class="hljs-string">&quot;default&quot;</span>);
}
</code></pre>
<p>Creating new resources may take some time to finish. Kubernetes will have to pull images, build containers and start up everything. The create action is not waiting synchronously for all that to have happened.
Therefore we might add a list-pods action that waits for the new resources to appear.</p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">repeat-onerror-until-true</span> <span class="hljs-attribute">condition</span>=<span class="hljs-value">&quot;@assertThat(&apos;greaterThan(9)&apos;)@&quot;</span> <span class="hljs-attribute">auto-sleep</span>=<span class="hljs-value">&quot;1000&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">k8s:list-pods</span> <span class="hljs-attribute">label</span>=<span class="hljs-value">&quot;server=hello-jetty&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">k8s:validate</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">k8s:element</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">&quot;$.result.items.size()&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">&quot;1&quot;</span>/&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">k8s:element</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">&quot;$..status.phase&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">&quot;Running&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">k8s:validate</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">k8s:list-pods</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">repeat-onerror-until-true</span>&gt;</span>
</code></pre>
<p>With this repeat on error action we wait for the new <em>server=hello-jetty</em> labeled pod to be in state <em>Running</em>.</p>
<h3 id="delete-resources"><a name="delete-resources" class="plugin-anchor" href="#delete-resources"><span class="fa fa-link"></span></a>Delete resources</h3>
<p>With that command we are able to delete a resource in Kubernetes. Up to now deletion of pods and services is supported. We have to give a name of the resource that we want
to delete.</p>
<p><strong>XML DSL</strong> </p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">k8s:delete-pod</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&quot;citrus_pod&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">k8s:validate</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">k8s:element</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">&quot;$.result.success&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">&quot;true&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">k8s:validate</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">k8s:delete-pod</span>&gt;</span>
</code></pre>
<p><strong>Java DSL</strong> </p>
<pre><code class="lang-java"><span class="hljs-annotation">@CitrusTest</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">deletePodsTest</span><span class="hljs-params">()</span> </span>{
    kubernetes()
        .pods()
        .delete(<span class="hljs-string">&quot;citrus_pod&quot;</span>)
        .validate((result, context) -&gt; Assert.assertTrue(result.getResult().getSuccess()));
}
</code></pre>
<h3 id="watch-resources"><a name="watch-resources" class="plugin-anchor" href="#watch-resources"><span class="fa fa-link"></span></a>Watch resources</h3>
<p><strong>Note</strong>
The watch operation is still in experimental state and may face severe adjustments and improvements in near future.</p>
<p>When using a watch command we add a subscription to change events on a Kubernetes resources. So we can watch resources such as pods, services for future changes.
Each change on that resource triggers a new watch event result that we can expect and validate.</p>
<p><strong>XML DSL</strong> </p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">k8s:watch-pods</span> <span class="hljs-attribute">label</span>=<span class="hljs-value">&quot;provider=citrus&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">k8s:validate</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">k8s:element</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">&quot;$.action&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">&quot;DELETED&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">k8s:validate</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">k8s:watch-pods</span>&gt;</span>
</code></pre>
<p><strong>Java DSL</strong> </p>
<pre><code class="lang-java"><span class="hljs-annotation">@CitrusTest</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">listPodsTest</span><span class="hljs-params">()</span> </span>{
    kubernetes()
        .pods()
        .watch()
        .label(<span class="hljs-string">&quot;provider=citrus&quot;</span>)
        .validate((watchEvent, context) -&gt; {
            Assert.assertFalse(watchEvent.hasError());
            Assert.assertEquals(((WatchEventResult) watchEvent).getAction(), Watcher.Action.DELETED);
        });
}
</code></pre>
<p><strong>Note</strong>
The watch command may be triggered several times for multiple changes on the respective Kubernetes resource. The watch action will always handle one single event result. The first
event trigger is forwarded to the action validation. All further watch events on that same resource are ignored. This means that you may need multiple watch actions in your test case in case you expect
multiple watch events to be triggered.</p>
<h3 id="kubernetes-messaging"><a name="kubernetes-messaging" class="plugin-anchor" href="#kubernetes-messaging"><span class="fa fa-link"></span></a>Kubernetes messaging</h3>
<p>We have seen how to access the Kubernetes remote REST API by using special Citrus test actions in out test. As an alternative to that we can also use more 
generic send/receive actions in Citrus for accessing the Kubernetes API. We demonstrate this with a simple example:</p>
<p><strong>XML DSL</strong> </p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">testcase</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&quot;KubernetesSendReceiveIT&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">actions</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">send</span> <span class="hljs-attribute">endpoint</span>=<span class="hljs-value">&quot;k8sClient&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">message</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">data</span>&gt;</span>
            { &quot;command&quot;: &quot;info&quot; }
          <span class="hljs-tag">&lt;/<span class="hljs-title">data</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">message</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">send</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-title">receive</span> <span class="hljs-attribute">endpoint</span>=<span class="hljs-value">&quot;k8sClient&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">message</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">&quot;json&quot;</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">data</span>&gt;</span>{
            &quot;command&quot;: &quot;info&quot;,
            &quot;result&quot;: {
                &quot;clientVersion&quot;: &quot;1.4.27&quot;,
                &quot;apiVersion&quot;: &quot;v1&quot;,
                &quot;kind&quot;:&quot;Info&quot;,
                &quot;masterUrl&quot;: &quot;${masterUrl}&quot;,
                &quot;namespace&quot;: &quot;test&quot;
              }
            }<span class="hljs-tag">&lt;/<span class="hljs-title">data</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">message</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">receive</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-title">echo</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">message</span>&gt;</span>List all pods<span class="hljs-tag">&lt;/<span class="hljs-title">message</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">echo</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-title">send</span> <span class="hljs-attribute">endpoint</span>=<span class="hljs-value">&quot;k8sClient&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">message</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">data</span>&gt;</span>
            { &quot;command&quot;: &quot;list-pods&quot; }
          <span class="hljs-tag">&lt;/<span class="hljs-title">data</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">message</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">send</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-title">receive</span> <span class="hljs-attribute">endpoint</span>=<span class="hljs-value">&quot;k8sClient&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">message</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">&quot;json&quot;</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">data</span>&gt;</span>{
            &quot;command&quot;: &quot;list-pods&quot;,
            &quot;result&quot;: {
                  &quot;apiVersion&quot;:&quot;v1&quot;,
                  &quot;kind&quot;:&quot;PodList&quot;,
                  &quot;metadata&quot;:&quot;@ignore@&quot;,
                  &quot;items&quot;:[]
              }
          }<span class="hljs-tag">&lt;/<span class="hljs-title">data</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">validate</span> <span class="hljs-attribute">path</span>=<span class="hljs-value">&quot;$.result.items.size()&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">&quot;0&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">message</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">receive</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">actions</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">testcase</span>&gt;</span>
</code></pre>
<p>As you can see we can use the send/receive actions to call Kubernetes API commands and receive the respective results in Json format, too. This gives us the well known
Json validation mechanism in Citrus in order to validate the results from Kubernetes. This way you can load Kubernetes resources verifying its state and properties.
Of course JsonPath expressions also come in here in order to validate Json elements explicitly. </p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./docker.html" class="navigation navigation-prev " aria-label="Previous page: Docker"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./ssh.html" class="navigation navigation-next " aria-label="Next page: Ssh"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/gitbook-plugin-edit-link/plugin.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-code_tomorrow_scheme/code-tomorrow-scheme.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-code_tomorrow_scheme/plugin.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"edit-link":{"base":"https://github.com/christophd/citrus/edit/master/src/manual","label":"Improve This Page"},"anchors":{},"code_tomorrow_scheme":{},"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"all":["facebook","google","twitter","weibo","instapaper"],"facebook":true,"google":false,"instapaper":false,"twitter":true,"vk":false,"weibo":false},"fontsettings":{"family":"sans","size":2,"theme":"white"}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
