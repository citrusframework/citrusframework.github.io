<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Send | Citrus Reference Guide</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="gitbook/style.css">
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-anchors/plugin.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-code_tomorrow_scheme/code-tomorrow-scheme.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    
        <link rel="stylesheet" href="./styles/website.css">
    

        
    
    
    <link rel="next" href="./actions-receive.html" />
    
    
    <link rel="prev" href="./actions.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="13.1"
        data-chapter-title="Send"
        data-filepath="actions-send.md"
        data-basepath="."
        data-revision="Wed Feb 01 2017 17:43:10 GMT+0100 (CET)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="preface.html">
            
                
                    <a href="./preface.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Preface
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="changes-new.html">
            
                
                    <a href="./changes-new.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Changes new
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="introduction.html">
            
                
                    <a href="./introduction.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="setup.html">
            
                
                    <a href="./setup.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Setup
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" data-path="test-case.html">
            
                
                    <a href="./test-case.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Test case
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6" data-path="test-variables.html">
            
                
                    <a href="./test-variables.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Test variables
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7" data-path="run.html">
            
                
                    <a href="./run.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Run
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="configuration.html">
            
                
                    <a href="./configuration.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Configuration
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9" data-path="endpoints.html">
            
                
                    <a href="./endpoints.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                        Endpoints
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10" data-path="validation.html">
            
                
                    <a href="./validation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                        Validation
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="10.1" data-path="validation-xml.html">
            
                
                    <a href="./validation-xml.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.1.</b>
                        
                        Xml
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.2" data-path="validation-schema.html">
            
                
                    <a href="./validation-schema.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.2.</b>
                        
                        Schema
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.3" data-path="validation-json.html">
            
                
                    <a href="./validation-json.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.3.</b>
                        
                        Json
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.4" data-path="validation-xhtml.html">
            
                
                    <a href="./validation-xhtml.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.4.</b>
                        
                        Xhtml
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.5" data-path="validation-plaintext.html">
            
                
                    <a href="./validation-plaintext.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.5.</b>
                        
                        Plaintext
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.6" data-path="validation-binary.html">
            
                
                    <a href="./validation-binary.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.6.</b>
                        
                        Binary
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="10.7" data-path="validation-gzip.html">
            
                
                    <a href="./validation-gzip.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>10.7.</b>
                        
                        Gzip
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="11" data-path="xpath.html">
            
                
                    <a href="./xpath.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                        Xpath
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="12" data-path="json-path.html">
            
                
                    <a href="./json-path.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                        JsonPath
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13" data-path="actions.html">
            
                
                    <a href="./actions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                        Actions
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="13.1" data-path="actions-send.html">
            
                
                    <a href="./actions-send.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.1.</b>
                        
                        Send
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.2" data-path="actions-receive.html">
            
                
                    <a href="./actions-receive.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.2.</b>
                        
                        Receive
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.3" data-path="actions-database.html">
            
                
                    <a href="./actions-database.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.3.</b>
                        
                        Database
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.4" data-path="actions-sleep.html">
            
                
                    <a href="./actions-sleep.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.4.</b>
                        
                        Sleep
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.5" data-path="actions-java.html">
            
                
                    <a href="./actions-java.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.5.</b>
                        
                        Java
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.6" data-path="actions-timeout.html">
            
                
                    <a href="./actions-timeout.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.6.</b>
                        
                        Timeout
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.7" data-path="actions-echo.html">
            
                
                    <a href="./actions-echo.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.7.</b>
                        
                        Echo
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.8" data-path="actions-stop-time.html">
            
                
                    <a href="./actions-stop-time.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.8.</b>
                        
                        Stop time
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.9" data-path="actions-create-variables.html">
            
                
                    <a href="./actions-create-variables.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.9.</b>
                        
                        Create variables
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.10" data-path="actions-trace.html">
            
                
                    <a href="./actions-trace.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.10.</b>
                        
                        Trace
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.11" data-path="actions-transform.html">
            
                
                    <a href="./actions-transform.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.11.</b>
                        
                        Transform
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.12" data-path="actions-groovy.html">
            
                
                    <a href="./actions-groovy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.12.</b>
                        
                        Groovy
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.13" data-path="actions-fail.html">
            
                
                    <a href="./actions-fail.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.13.</b>
                        
                        Fail
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.14" data-path="actions-input.html">
            
                
                    <a href="./actions-input.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.14.</b>
                        
                        Input
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.15" data-path="actions-load.html">
            
                
                    <a href="./actions-load.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.15.</b>
                        
                        Load
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.16" data-path="actions-wait.html">
            
                
                    <a href="./actions-wait.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.16.</b>
                        
                        Wait
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.17" data-path="actions-purge-jms.html">
            
                
                    <a href="./actions-purge-jms.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.17.</b>
                        
                        Purge JMS queues
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.18" data-path="actions-purge-channels.html">
            
                
                    <a href="./actions-purge-channels.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.18.</b>
                        
                        Purge channels
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.19" data-path="actions-purge-endpoints.html">
            
                
                    <a href="./actions-purge-endpoints.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.19.</b>
                        
                        Purge endpoints
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.20" data-path="actions-assert.html">
            
                
                    <a href="./actions-assert.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.20.</b>
                        
                        Assert
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.21" data-path="actions-catch.html">
            
                
                    <a href="./actions-catch.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.21.</b>
                        
                        Catch
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.22" data-path="actions-antrun.html">
            
                
                    <a href="./actions-antrun.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.22.</b>
                        
                        Antrun
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.23" data-path="actions-manage-server.html">
            
                
                    <a href="./actions-manage-server.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.23.</b>
                        
                        Manage server
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.24" data-path="actions-stop-timer.html">
            
                
                    <a href="./actions-stop-timer.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.24.</b>
                        
                        Stop timer
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="13.25" data-path="actions-generic-action.html">
            
                
                    <a href="./actions-generic-action.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>13.25.</b>
                        
                        Generic action
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="14" data-path="templates.html">
            
                
                    <a href="./templates.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                        Templates
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="15" data-path="behaviors.html">
            
                
                    <a href="./behaviors.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                        Test behaviors
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16" data-path="containers.html">
            
                
                    <a href="./containers.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.</b>
                        
                        Containers
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="16.1" data-path="containers-sequential.html">
            
                
                    <a href="./containers-sequential.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.1.</b>
                        
                        Sequential
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.2" data-path="containers-conditional.html">
            
                
                    <a href="./containers-conditional.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.2.</b>
                        
                        Conditional
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.3" data-path="containers-parallel.html">
            
                
                    <a href="./containers-parallel.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.3.</b>
                        
                        Parallel
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.4" data-path="containers-iterate.html">
            
                
                    <a href="./containers-iterate.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.4.</b>
                        
                        Iterate
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.5" data-path="containers-repeat.html">
            
                
                    <a href="./containers-repeat.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.5.</b>
                        
                        Repeat
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.6" data-path="containers-repeat-onerror.html">
            
                
                    <a href="./containers-repeat-onerror.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.6.</b>
                        
                        Repeat On Error
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.7" data-path="containers-timer.html">
            
                
                    <a href="./containers-timer.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.7.</b>
                        
                        Timer
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="16.8" data-path="containers-custom.html">
            
                
                    <a href="./containers-custom.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>16.8.</b>
                        
                        Custom
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="17" data-path="finally-section.html">
            
                
                    <a href="./finally-section.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>17.</b>
                        
                        Finally
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="18" data-path="jms.html">
            
                
                    <a href="./jms.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>18.</b>
                        
                        Jms
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="19" data-path="http.html">
            
                
                    <a href="./http.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>19.</b>
                        
                        Http
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="20" data-path="http-websocket.html">
            
                
                    <a href="./http-websocket.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>20.</b>
                        
                        Http Websockets
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="21" data-path="soap.html">
            
                
                    <a href="./soap.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>21.</b>
                        
                        Soap
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="22" data-path="ftp.html">
            
                
                    <a href="./ftp.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>22.</b>
                        
                        Ftp
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="23" data-path="message-channel.html">
            
                
                    <a href="./message-channel.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>23.</b>
                        
                        Message channel
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="24" data-path="file.html">
            
                
                    <a href="./file.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>24.</b>
                        
                        File
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="25" data-path="camel.html">
            
                
                    <a href="./camel.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>25.</b>
                        
                        Camel
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="26" data-path="vertx.html">
            
                
                    <a href="./vertx.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>26.</b>
                        
                        Vertx
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="27" data-path="mail.html">
            
                
                    <a href="./mail.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>27.</b>
                        
                        Mail
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="28" data-path="arquillian.html">
            
                
                    <a href="./arquillian.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>28.</b>
                        
                        Arquillian
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="29" data-path="docker.html">
            
                
                    <a href="./docker.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>29.</b>
                        
                        Docker
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="30" data-path="kubernetes.html">
            
                
                    <a href="./kubernetes.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>30.</b>
                        
                        Kubernetes
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="31" data-path="ssh.html">
            
                
                    <a href="./ssh.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>31.</b>
                        
                        Ssh
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="32" data-path="rmi.html">
            
                
                    <a href="./rmi.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>32.</b>
                        
                        Rmi
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="33" data-path="jmx.html">
            
                
                    <a href="./jmx.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>33.</b>
                        
                        Jmx
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="34" data-path="cucumber.html">
            
                
                    <a href="./cucumber.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>34.</b>
                        
                        Cucumber
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="35" data-path="zookeeper.html">
            
                
                    <a href="./zookeeper.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>35.</b>
                        
                        Zookeeper
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="36" data-path="restdocs.html">
            
                
                    <a href="./restdocs.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>36.</b>
                        
                        Restdocs
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="37" data-path="selenium.html">
            
                
                    <a href="./selenium.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>37.</b>
                        
                        Selenium
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="38" data-path="endpoint-component.html">
            
                
                    <a href="./endpoint-component.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>38.</b>
                        
                        Endpoint component
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="39" data-path="endpoint-adapter.html">
            
                
                    <a href="./endpoint-adapter.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>39.</b>
                        
                        Endpoint adapter
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="40" data-path="functions.html">
            
                
                    <a href="./functions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>40.</b>
                        
                        Functions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="41" data-path="validation-matchers.html">
            
                
                    <a href="./validation-matchers.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>41.</b>
                        
                        Validation Matchers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="42" data-path="data-dictionary.html">
            
                
                    <a href="./data-dictionary.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>42.</b>
                        
                        Data dictionary
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="43" data-path="test-actors.html">
            
                
                    <a href="./test-actors.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>43.</b>
                        
                        Test actors
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="44" data-path="test-suite.html">
            
                
                    <a href="./test-suite.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>44.</b>
                        
                        Test suite
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="45" data-path="meta-info.html">
            
                
                    <a href="./meta-info.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>45.</b>
                        
                        Meta info
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="46" data-path="message-tracing.html">
            
                
                    <a href="./message-tracing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>46.</b>
                        
                        Message tracing
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="47" data-path="reporting.html">
            
                
                    <a href="./reporting.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>47.</b>
                        
                        Reporting
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="48" data-path="samples.html">
            
                
                    <a href="./samples.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>48.</b>
                        
                        Samples
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="48.1" data-path="samples-flightbooking.html">
            
                
                    <a href="./samples-flightbooking.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>48.1.</b>
                        
                        Flight Booking Sample
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="49" data-path="appendix.html">
            
                
                    <a href="./appendix.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.</b>
                        
                        Appendix
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="49.1" data-path="changes-2-6.html">
            
                
                    <a href="./changes-2-6.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.1.</b>
                        
                        Changes 2.6
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="49.2" data-path="changes-2-5.html">
            
                
                    <a href="./changes-2-5.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.2.</b>
                        
                        Changes 2.5
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="49.3" data-path="changes-2-4.html">
            
                
                    <a href="./changes-2-4.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.3.</b>
                        
                        Changes 2.4
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="49.4" data-path="changes-2-3.html">
            
                
                    <a href="./changes-2-3.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.4.</b>
                        
                        Changes 2.3
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="49.5" data-path="changes-2-2.html">
            
                
                    <a href="./changes-2-2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.5.</b>
                        
                        Changes 2.2
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="49.6" data-path="changes-2-1.html">
            
                
                    <a href="./changes-2-1.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.6.</b>
                        
                        Changes 2.1
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="49.7" data-path="changes-2-0.html">
            
                
                    <a href="./changes-2-0.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.7.</b>
                        
                        Changes 2.0
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="49.8" data-path="changes-1-4.html">
            
                
                    <a href="./changes-1-4.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.8.</b>
                        
                        Changes 1.4
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="49.9" data-path="changes-1-3.html">
            
                
                    <a href="./changes-1-3.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.9.</b>
                        
                        Changes 1.3
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="49.10" data-path="changes-1-2.html">
            
                
                    <a href="./changes-1-2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>49.10.</b>
                        
                        Changes 1.2
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Citrus Reference Guide</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h3 id="sending-messages"><a name="sending-messages" class="plugin-anchor" href="#sending-messages"><span class="fa fa-link"></span></a>Sending messages</h3>
<p>In a integration test scenario we want to trigger processes and call interface services on the system under test. In order to do this we need to be able to send messages to various message transports. Therefore the send message test action in Citrus is one of the most important test actions. First of all let us have a look at the Citrus message definition in Citrus:</p>
<p><img src="images/figure_001.jpg" alt="figure_001.jpg"></p>
<p>A message consists of a message header (name-value pairs) and a message payload. Later in this section we will see different ways of constructing a message with payload and header values. But first of all let&apos;s concentrate on a simple sending message action inside a test case.</p>
<p><strong>XML DSL</strong> </p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">testcase</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&quot;SendMessageTest&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>Basic send message example<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">variables</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">variable</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&quot;text&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">&quot;Hello Citrus!&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">variable</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&quot;messageId&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">&quot;Mx1x123456789&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">variables</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">actions</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">send</span> <span class="hljs-attribute">endpoint</span>=<span class="hljs-value">&quot;helloServiceEndpoint&quot;</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">message</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&quot;helloMessage&quot;</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">payload</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">TestMessage</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">Text</span>&gt;</span>${text}<span class="hljs-tag">&lt;/<span class="hljs-title">Text</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-title">TestMessage</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">payload</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">message</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">header</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">element</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&quot;Operation&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">&quot;sayHello&quot;</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">element</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&quot;MessageId&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">&quot;${messageId}&quot;</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">header</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">send</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">actions</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">testcase</span>&gt;</span>
</code></pre>
<p>The message name is optional and defines the message identifier in the local message store. This message name is very useful when accessing the message content later on during the test case. The local message store is handled per test case and contains all exchanged messages. 
The sample uses both header and payload as message parts to send. In both parts you can use variable definitions (see <strong>${text}</strong> and <strong>${messageId}</strong>). So first of all let us recap what variables do. Test variables are defined at the very beginning of the test case and are valid throughout all actions that take place in the test. This means that actions can simply reference a variable by the expression <strong><em>${variable-name}</em></strong> .</p>
<p><strong>Tip</strong>
Use variables wherever you can! At least the important entities of a test should be defined as variables at the beginning. The test case improves maintainability and flexibility when using variables.</p>
<p>Now lets have a closer look at the sending action. The <strong>&apos;endpoint&apos;</strong> attribute might catch your attention first. This attribute references a message endpoint in Citrus configuration by name. As previously mentioned the message endpoint definition lives in a separate configuration file and contains the actual message transport settings. In this example the <strong>&quot;helloServiceEndpoint&quot;</strong> is referenced which is a message endpoint for sending out messages via JMS or HTTP for instance.</p>
<p>The test case is not aware of any transport details, because it does not have to. The advantages are obvious: On the one hand multiple test cases can reference the message endpoint definition for better reuse. Secondly test cases are independent of message transport details. So connection factories, user credentials, endpoint uri values and so on are not present in the test case.</p>
<p>In other words the <strong>&quot;endpoint&quot;</strong> attribute of the <strong><code>&lt;send&gt;</code></strong> element specifies which message endpoint definition to use and therefore where the message should go to. Once again all available message endpoints are configured in a separate Citrus configuration file. We will come to this later on. Be sure to always pick the right message endpoint type in order to publish your message to the right destination.</p>
<p>If you do not like the XML language you can also use pure Java code to define the same test. In Java you would also make use of the message endpoint definition and reference this instance. The same test as shown above in Java DSL looks like this:</p>
<p><strong>Java DSL designer</strong> </p>
<pre><code class="lang-java"><span class="hljs-keyword">import</span> org.testng.ITestContext;
<span class="hljs-keyword">import</span> org.testng.annotations.Test;
<span class="hljs-keyword">import</span> com.consol.citrus.annotations.CitrusTest;
<span class="hljs-keyword">import</span> com.consol.citrus.dsl.testng.TestNGCitrusTestDesigner;

<span class="hljs-annotation">@Test</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SendMessageTestDesigner</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">TestNGCitrusTestDesigner</span> </span>{

    <span class="hljs-annotation">@CitrusTest</span>(name = <span class="hljs-string">&quot;SendMessageTest&quot;</span>)
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sendMessageTest</span><span class="hljs-params">()</span> </span>{
        description(<span class="hljs-string">&quot;Basic send message example&quot;</span>);

        variable(<span class="hljs-string">&quot;text&quot;</span>, <span class="hljs-string">&quot;Hello Citrus!&quot;</span>);
        variable(<span class="hljs-string">&quot;messageId&quot;</span>, <span class="hljs-string">&quot;Mx1x123456789&quot;</span>);

        send(<span class="hljs-string">&quot;helloServiceEndpoint&quot;</span>)
                .name(<span class="hljs-string">&quot;helloMessage&quot;</span>)
                .payload(<span class="hljs-string">&quot;&lt;TestMessage&gt;&quot;</span> +
                    <span class="hljs-string">&quot;&lt;Text&gt;${text}&lt;/Text&gt;&quot;</span> +
                    <span class="hljs-string">&quot;&lt;/TestMessage&gt;&quot;</span>)
                .header(<span class="hljs-string">&quot;Operation&quot;</span>, <span class="hljs-string">&quot;sayHello&quot;</span>)
                .header(<span class="hljs-string">&quot;RequestTag&quot;</span>, <span class="hljs-string">&quot;${messageId}&quot;</span>);
    }
}
</code></pre>
<p><strong>Java DSL runner</strong> </p>
<pre><code class="lang-java"><span class="hljs-keyword">import</span> org.testng.ITestContext;
<span class="hljs-keyword">import</span> org.testng.annotations.Test;
<span class="hljs-keyword">import</span> com.consol.citrus.annotations.CitrusTest;
<span class="hljs-keyword">import</span> com.consol.citrus.dsl.testng.TestNGCitrusTestRunner;

<span class="hljs-annotation">@Test</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SendMessageTestRunner</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">TestNGCitrusTestRunner</span> </span>{

    <span class="hljs-annotation">@CitrusTest</span>(name = <span class="hljs-string">&quot;SendMessageTest&quot;</span>)
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sendMessageTest</span><span class="hljs-params">()</span> </span>{
        variable(<span class="hljs-string">&quot;text&quot;</span>, <span class="hljs-string">&quot;Hello Citrus!&quot;</span>);
        variable(<span class="hljs-string">&quot;messageId&quot;</span>, <span class="hljs-string">&quot;Mx1x123456789&quot;</span>);

        send(action -&gt; action.endpoint(<span class="hljs-string">&quot;helloServiceEndpoint&quot;</span>)
                .name(<span class="hljs-string">&quot;helloMessage&quot;</span>)
                .payload(<span class="hljs-string">&quot;&lt;TestMessage&gt;&quot;</span> +
                        <span class="hljs-string">&quot;&lt;Text&gt;${text}&lt;/Text&gt;&quot;</span> +
                    <span class="hljs-string">&quot;&lt;/TestMessage&gt;&quot;</span>)
                .header(<span class="hljs-string">&quot;Operation&quot;</span>, <span class="hljs-string">&quot;sayHello&quot;</span>)
                .header(<span class="hljs-string">&quot;RequestTag&quot;</span>, <span class="hljs-string">&quot;${messageId}&quot;</span>));
    }
}
</code></pre>
<p>Instead of using the XML tags for send we use methods from <strong>TestNGCitrusTestDesigner</strong> class. The same message endpoint is referenced within the send message action.</p>
<p>Now that the message sender pattern is clear we can concentrate on how to specify the message content to be sent. There are several possibilities for you to define message content in Citrus:</p>
<ul>
<li><strong>message</strong> : This element constructs the message to be sent. There are several child elements available:</li>
<li><strong>payload</strong> : Nested XML payload as direct child node.</li>
<li><strong>data</strong> : Inline CDATA definition of the message payload</li>
<li><strong>resource</strong> : External file resource holding the message payload The syntax would be: <code>&lt;resource file=&quot;classpath:com/consol/citrus/messages/TestRequest.xml&quot; /&gt;</code> The file path prefix indicates the resource type, so the file location is resolved either as file system resource (file:) or classpath resource (classpath:).</li>
<li><strong>element</strong> : Explicitly overwrite values in the XML message payload using XPath. You can replace message content with dynamic values before sending. Each <element> entry provides a &quot;path&quot; and &quot;value&quot; attribute. The &quot;path&quot; gives a XPath expression evaluating to a XML node element or attribute in the message. The &quot;value&quot; can be a variable expression or any other static value. Citrus will replace the value before sending the message.</element></li>
<li><strong>header</strong> : Defines a header for the message (e.g. JMS header information or SOAP header):</li>
<li><strong>element</strong> : Each header receives a &quot;name&quot; and &quot;value&quot;. The &quot;name&quot; will be the name of the header entry and &quot;value&quot; its respective value. Again the usage of variable expressions as value is supported here, too.</li>
</ul>
<p><strong>XML DSL</strong> </p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">send</span> <span class="hljs-attribute">endpoint</span>=<span class="hljs-value">&quot;helloServiceEndpoint&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">message</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">payload</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- message payload as XML --&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">payload</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">message</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">send</span>&gt;</span>
</code></pre>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">send</span> <span class="hljs-attribute">endpoint</span>=<span class="hljs-value">&quot;helloServiceEndpoint&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">message</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">data</span>&gt;</span>
            <span class="hljs-cdata">&lt;![CDATA[
                &lt;!-- message payload as XML --&gt;
            ]]&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">data</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">message</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">send</span>&gt;</span>
</code></pre>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">send</span> <span class="hljs-attribute">endpoint</span>=<span class="hljs-value">&quot;helloServiceEndpoint&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">message</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">resource</span> <span class="hljs-attribute">file</span>=<span class="hljs-value">&quot;classpath:com/consol/citrus/messages/TestRequest.xml&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">message</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">send</span>&gt;</span>
</code></pre>
<p>The most important thing when dealing with sending actions is to prepare the message payload and header. You are able to construct the message payload either by nested XML child nodes (payload), as inline CDATA (<data>) or external file (<resource>).</resource></data></p>
<p><strong>Note</strong>
Sometimes the nested XML message payload elements may cause XSD schema validation rule violations. This is because of variable values not fitting the XSD schema rules for example. In this scenario you could also use simple CDATA sections as payload data. In this case you need to use the <strong><em><code>&lt;data&gt;</code></em></strong> element in contrast to the <strong><em><code>&lt;payload&gt;</code></em></strong> element that we have used in our examples so far.</p>
<p>With this alternative you can skip the XML schema validation from your IDE at design time. Unfortunately you will loose the XSD auto completion features many XML editors offer when constructing your payload.</p>
<p>The The same possibilities apply to the Citrus Java DSL.</p>
<p><strong>Java DSL designer</strong> </p>
<pre><code class="lang-java"><span class="hljs-annotation">@CitrusTest</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">messagingTest</span><span class="hljs-params">()</span> </span>{
    send(<span class="hljs-string">&quot;helloServiceEndpoint&quot;</span>)
        .payload(<span class="hljs-string">&quot;&lt;TestMessage&gt;&quot;</span> +
                <span class="hljs-string">&quot;&lt;Text&gt;Hello!&lt;/Text&gt;&quot;</span> +
            <span class="hljs-string">&quot;&lt;/TestMessage&gt;&quot;</span>);
}
</code></pre>
<pre><code class="lang-java"><span class="hljs-annotation">@CitrusTest</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">messagingTest</span><span class="hljs-params">()</span> </span>{
    send(<span class="hljs-string">&quot;helloServiceEndpoint&quot;</span>)
        .payload(<span class="hljs-keyword">new</span> ClassPathResource(<span class="hljs-string">&quot;com/consol/citrus/messages/TestRequest.xml&quot;</span>));
}
</code></pre>
<pre><code class="lang-java"><span class="hljs-annotation">@CitrusTest</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">messagingTest</span><span class="hljs-params">()</span> </span>{
    send(<span class="hljs-string">&quot;helloServiceEndpoint&quot;</span>)
        .payloadModel(<span class="hljs-keyword">new</span> TestRequest(<span class="hljs-string">&quot;Hello Citrus!&quot;</span>));
}
</code></pre>
<pre><code class="lang-java"><span class="hljs-annotation">@CitrusTest</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">messagingTest</span><span class="hljs-params">()</span> </span>{
    send(<span class="hljs-string">&quot;helloServiceEndpoint&quot;</span>)
        .message(<span class="hljs-keyword">new</span> DefaultMessage(<span class="hljs-string">&quot;Hello World!&quot;</span>)));
}
</code></pre>
<p>Besides defining message payloads as normal Strings and via external file resource (classpath and file system) you can also use model objects as payload data in Java DSL. This model object payload requires a proper message marshaller that should be available as Spring bean inside the application context. By default Citrus is searching for a bean of type <strong>org.springframework.oxm.Marshaller</strong> .</p>
<p>In case you have multiple message marshallers in the application context you have to tell Citrus which one to use in this particular send message action.</p>
<pre><code class="lang-java"><span class="hljs-annotation">@CitrusTest</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">messagingTest</span><span class="hljs-params">()</span> </span>{
    send(<span class="hljs-string">&quot;helloServiceEndpoint&quot;</span>)
        .payloadModel(<span class="hljs-keyword">new</span> TestRequest(<span class="hljs-string">&quot;Hello Citrus!&quot;</span>), <span class="hljs-string">&quot;myMessageMarshallerBean&quot;</span>);
}
</code></pre>
<p>Now Citrus will marshal the message payload with the message marshaller bean named <strong>myMessageMarshallerBean</strong> . This way you can have multiple message marshaller implementations active in your project (XML, JSON, and so on).</p>
<p>Last not least the message can be defined as Citrus message object. Here you can choose one of the different message implementations used in Citrus for SOAP, Http or JMS messages. Or you just use the default message implementation or maybe a custom implementation.</p>
<p>Before sending takes place you can explicitly overwrite some message values in payload. You can think of overwriting specific message elements with variable values. Also you can overwrite values using XPath (<a href="xpath">xpath</a>) or JSONPath (<a href="json-path">json-path</a>) expressions.</p>
<p>The message header is part of our duty of defining proper messages, too. So Citrus uses name-value pairs like &quot;Operation&quot; and &quot;MessageId&quot; in the next example to set message header entries. Depending on what message endpoint is used and which message transport underneath the header values will be shipped in different ways. In JMS the headers go to the header section of the message, in Http we set mime headers accordingly, in SOAP we can access the SOAP header elements and so on. Citrus aims to do the hard work for you. So Citrus knows how to set headers on different message transports.</p>
<p><strong>XML DSL</strong> </p>
<pre><code class="lang-xml"><span class="hljs-tag">&lt;<span class="hljs-title">send</span> <span class="hljs-attribute">endpoint</span>=<span class="hljs-value">&quot;helloServiceEndpoint&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">message</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">payload</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">TestMessage</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Text</span>&gt;</span>Hello!<span class="hljs-tag">&lt;/<span class="hljs-title">Text</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">TestMessage</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">payload</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">message</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">header</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">element</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">&quot;Operation&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-value">&quot;sayHello&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">header</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">receive</span>&gt;</span>
</code></pre>
<p>The message headers to send are defined by a simple name and value pair. Of course you can use test variables in header values as well. Let&apos;s see how this looks like in Java DSL:</p>
<p><strong>Java DSL designer</strong> </p>
<pre><code class="lang-java"><span class="hljs-annotation">@CitrusTest</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">messagingTest</span><span class="hljs-params">()</span> </span>{
    receive(<span class="hljs-string">&quot;helloServiceEndpoint&quot;</span>)
        .payload(<span class="hljs-string">&quot;&lt;TestMessage&gt;&quot;</span> +
                <span class="hljs-string">&quot;&lt;Text&gt;Hello!&lt;/Text&gt;&quot;</span> +
            <span class="hljs-string">&quot;&lt;/TestMessage&gt;&quot;</span>)
        .header(<span class="hljs-string">&quot;Operation&quot;</span>, <span class="hljs-string">&quot;sayHello&quot;</span>);
}
</code></pre>
<p><strong>Java DSL runner</strong> </p>
<pre><code class="lang-java"><span class="hljs-annotation">@CitrusTest</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">messagingTest</span><span class="hljs-params">()</span> </span>{
    receive(action -&gt; action.endpoint(<span class="hljs-string">&quot;helloServiceEndpoint&quot;</span>)
        .payload(<span class="hljs-string">&quot;&lt;TestMessage&gt;&quot;</span> +
                <span class="hljs-string">&quot;&lt;Text&gt;Hello!&lt;/Text&gt;&quot;</span> +
            <span class="hljs-string">&quot;&lt;/TestMessage&gt;&quot;</span>)
        .header(<span class="hljs-string">&quot;Operation&quot;</span>, <span class="hljs-string">&quot;sayHello&quot;</span>));
}
</code></pre>
<p>This is basically how to send messages in Citrus. The test case is responsible for constructing the message content while the predefined message endpoint holds transport specific settings. Test cases reference endpoint components to publish messages to the outside world. The variable support in message payload and message header enables you to add dynamic values before sending out the message.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./actions.html" class="navigation navigation-prev " aria-label="Previous page: Actions"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./actions-receive.html" class="navigation navigation-next " aria-label="Next page: Receive"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="gitbook/plugins/gitbook-plugin-edit-link/plugin.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-code_tomorrow_scheme/code-tomorrow-scheme.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-code_tomorrow_scheme/plugin.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"edit-link":{"base":"https://github.com/christophd/citrus/edit/master/src/manual","label":"Improve This Page"},"anchors":{},"code_tomorrow_scheme":{},"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"all":["facebook","google","twitter","weibo","instapaper"],"facebook":true,"google":false,"instapaper":false,"twitter":true,"vk":false,"weibo":false},"fontsettings":{"family":"sans","size":2,"theme":"white"}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
